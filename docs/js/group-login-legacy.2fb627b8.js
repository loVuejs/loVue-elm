(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-login"],{ac6a:function(t,e,s){for(var a=s("cadf"),o=s("0d58"),i=s("2aba"),n=s("7726"),c=s("32e9"),r=s("84f2"),l=s("2b4c"),d=l("iterator"),u=l("toStringTag"),p=r.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=o(m),g=0;g<f.length;g++){var v,h=f[g],w=m[h],C=n[h],b=C&&C.prototype;if(b&&(b[d]||c(b,d,p),b[u]||c(b,u,h),r[h]=p,w))for(v in a)b[v]||i(b,v,a[v],!0)}},dc3f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-box"},[s("mt-header",{attrs:{fixed:"",title:"密码登录"}},[s("div",{attrs:{slot:"left"},on:{click:t.back},slot:"left"},[s("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1)]),s("form",{staticClass:"login-form"},[s("div",{staticClass:"cell-box border-bottom bg-fff"},[s("div",{staticClass:"cell-item-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-input",attrs:{type:"text",placeholder:"账号"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})])]),s("div",{staticClass:"cell-box border-bottom bg-fff"},[s("div",{staticClass:"cell-item-left"},["checkbox"===(t.passwordType?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{placeholder:"密码",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var s=t.password,a=e.target,o=!!a.checked;if(Array.isArray(s)){var i=null,n=t._i(s,i);a.checked?n<0&&(t.password=s.concat([i])):n>-1&&(t.password=s.slice(0,n).concat(s.slice(n+1)))}else t.password=o}}}):"radio"===(t.passwordType?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{placeholder:"密码",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{placeholder:"密码",type:t.passwordType?"text":"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"cell-item-right"},[s("mt-switch",{model:{value:t.passwordType,callback:function(e){t.passwordType=e},expression:"passwordType"}})],1)]),s("div",{staticClass:"cell-box bg-fff"},[s("div",{staticClass:"cell-item-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-input",attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),s("div",{staticClass:"cell-item-right"},[s("div",{staticClass:"code-box"},[s("img",{staticClass:"code-img",attrs:{src:t.codeImg}}),s("div",{staticClass:"code-btn-box",on:{click:t.getCodeImg}},[s("div",[t._v("看不清")]),s("div",{staticClass:"blue-color"},[t._v("换一张")])])])])]),t._m(0),s("div",{staticClass:"form-btn-box"},[s("button",{staticClass:"form-btn",attrs:{type:"button"},on:{click:t.login}},[t._v("登录")])]),t._m(1)])],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-tips"},[t._v("温馨提示：未注册过的账号，登录时将自动注册。"),s("br"),t._v("注册过的用户可凭账号密码登录。")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{padding:"0 15px","text-align":"right"}},[s("span",{staticClass:"change-password-btn"},[t._v("重置密码")])])}],i=(s("ac6a"),{data:function(){return{account:"",password:"",passwordType:!1,code:"",codeImg:"",axiosCancel:[]}},mounted:function(){document.querySelector("title").innerText="密码登录",this.getCodeImg()},components:{},methods:{back:function(){document.referrer?this.$router.go(-1):this.$router.push({path:"/"})},getCodeImg:function(){var t=this,e=this,s=this.axios.CancelToken;axios.post("https://elm.cangdu.org/v1/captchas",{cancelToken:new s(function(t){e.axiosCancel.push(t)})}).then(function(e){200===e.status&&"OK"===e.statusText?t.codeImg=e.data.code:t.$toast({message:"获取验证码失败，请重新获取",position:"bottom",duration:2e3})}).catch(function(e){t.axios.isCancel(e)&&console.log("Rquest canceled",e.message)})},login:function(){var t=this;if(!this.account)return this.$toast({message:"请输入账号",position:"bottom",duration:2e3}),!1;if(!this.password)return this.$toast({message:"请输入密码",position:"bottom",duration:2e3}),!1;if(!this.code)return this.$toast({message:"请输入验证码",position:"bottom",duration:2e3}),!1;this.$indicator.open({text:"加载中...",spinnerType:"fading-circle"});var e=this,s=this.axios.CancelToken;axios.post("https://elm.cangdu.org/v2/login",{params:{username:e.account,password:e.password,captcha_code:e.code},cancelToken:new s(function(t){e.axiosCancel.push(t)})}).then(function(e){t.$indicator.close(),200===e.status&&"OK"===e.statusText?1==e.data.status||0==e.data.status&&("ERROR_CAPTCHA"===e.data.type&&t.getCodeImg(),t.$toast({message:e.data.message,position:"bottom",duration:2e3})):t.$toast({message:"登录失败，请重新登录",position:"bottom",duration:2e3})}).catch(function(e){t.axios.isCancel(e)&&console.log("Rquest canceled",e.message)})}},computed:{},destroyed:function(){this.axiosCancel.forEach(function(t){t()})}}),n=i,c=(s("f5ea"),s("2877")),r=Object(c["a"])(n,a,o,!1,null,null,null);e["default"]=r.exports},f5c8:function(t,e,s){},f5ea:function(t,e,s){"use strict";var a=s("f5c8"),o=s.n(a);o.a}}]);
//# sourceMappingURL=group-login-legacy.2fb627b8.js.map