(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-home"],{"2e7f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-left border-0"},[i("mt-header",{attrs:{title:"所有城市（按拼音排序）"}},[i("div",{attrs:{slot:"left"},on:{click:t.back},slot:"left"},[i("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1)]),i("mt-index-list",t._l(t.sortGroupCity,function(e,s){return i("mt-index-section",{key:s,attrs:{index:s}},t._l(e,function(t){return i("mt-cell",{key:t.id,attrs:{title:t.name,to:"./city/"+t.id,"is-link":""}})}),1)}),1)],1)},n=[],a=(i("612f"),{data:function(){return{groupCity:{},axiosCancel:[]}},mounted:function(){document.querySelector("title").innerText="所有城市",this.getGroupCity()},methods:{back:function(){document.referrer?this.$router.go(-1):this.$router.push({path:"/"})},getGroupCity:function(){var t=this,e=this,i=axios.CancelToken;this.$indicator.open({text:"加载中...",spinnerType:"fading-circle"}),axios.get("https://elm.cangdu.org/v1/cities",{params:{type:"group"},cancelToken:new i(function(t){e.axiosCancel.push(t)})}).then(function(e){t.$indicator.close(),200===e.status&&"OK"===e.statusText&&(t.groupCity=e.data)}).catch(function(t){axios.isCancel(t)&&console.log("Rquest canceled",t.message)})}},computed:{sortGroupCity:function(){for(var t={},e=65;e<=90;e++){var i=String.fromCharCode(e);this.groupCity[i]&&(t[i]=this.groupCity[i])}return t}},destroyed:function(){this.axiosCancel.forEach(function(t){t()})}}),o=a,c=(i("fa03"),i("17cc")),l=Object(c["a"])(o,s,n,!1,null,"7b118d61",null);e["default"]=l.exports},"4ef2":function(t,e,i){},"77b8":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-box text-left"},[i("mt-header",{attrs:{fixed:""}},[i("div",{attrs:{slot:"left"},on:{click:t.reload},slot:"left"},[i("mt-button",[t._v("ele.me")])],1),i("router-link",{attrs:{slot:"right",to:"/login"},slot:"right"},[i("mt-button",[t._v("登录 | 注册")])],1)],1),i("div",{staticClass:"section"},[t._m(0),i("mt-cell",{staticClass:"border-bottom",attrs:{title:t.guessCity,to:"/city/"+t.guessCityid,"is-link":""}})],1),t.hotCity.length>0?i("div",{staticClass:"city-container margin-bottom"},[i("h3",[t._v("热门城市")]),i("ul",{staticClass:"city-box"},t._l(t.hotCity,function(e){return i("router-link",{key:e.id,attrs:{tag:"li",to:"/city/"+e.id}},[t._v("\n                "+t._s(e.name)+"\n            ")])}),1)]):t._e(),i("mt-cell",{staticClass:"border-top-bottom",attrs:{title:"所有城市",to:"./all-city","is-link":""}}),t.layerMsgFlag?i("layerMsg",{attrs:{text:t.layerMsgText},on:{close:function(e){t.layerMsgFlag=!1}}}):t._e()],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cell-box border-bottom"},[i("div",{staticClass:"cell-item-left"},[i("span",{staticClass:"cell-item-text"},[t._v("当前定位城市：")])]),i("div",{staticClass:"cell-item-right"},[i("span",{staticClass:"cell-item-sub-text"},[t._v("定位不准时，请在城市列表中选择")])])])}],a=(i("612f"),i("3a23"),i("5dfb")),o={data:function(){return{guessCity:"",guessCityid:"",hotCity:[],layerMsgText:"",layerMsgFlag:!1,axiosCancel:[]}},mounted:function(){document.querySelector("title").innerText="首页",this.getGuessCity(),this.getHotCity()},components:{layerMsg:a["a"]},methods:{getGuessCity:function(){var t=this,e=this,i=axios.CancelToken;axios.get("https://elm.cangdu.org/v1/cities",{params:{type:"guess"},cancelToken:new i(function(t){e.axiosCancel.push(t)})}).then(function(e){200===e.status&&"OK"===e.statusText?(t.guessCity=e.data.name,t.guessCityid=e.data.id):(t.layerMsgText="定位失败，请在城市列表中选择",t.layerMsgFlag=!0)}).catch(function(t){axios.isCancel(t)&&console.log("Rquest canceled",t.message)})},getHotCity:function(){var t=this,e=this,i=axios.CancelToken;this.$indicator.open({text:"加载中...",spinnerType:"fading-circle"}),axios.get("https://elm.cangdu.org/v1/cities",{params:{type:"hot"},cancelToken:new i(function(t){e.axiosCancel.push(t)})}).then(function(e){t.$indicator.close(),200===e.status&&"OK"===e.statusText&&(t.hotCity=e.data)}).catch(function(t){axios.isCancel(t)&&console.log("Rquest canceled",t.message)})},reload:function(){location.reload()}},destroyed:function(){this.axiosCancel.forEach(function(t){t()})}},c=o,l=(i("ae60"),i("17cc")),r=Object(l["a"])(c,s,n,!1,null,"86e8c9d2",null);e["default"]=r.exports},ae60:function(t,e,i){"use strict";var s=i("4ef2"),n=i.n(s);n.a},d4ea:function(t,e,i){},fa03:function(t,e,i){"use strict";var s=i("d4ea"),n=i.n(s);n.a}}]);
//# sourceMappingURL=group-home-legacy.9a02671b.js.map